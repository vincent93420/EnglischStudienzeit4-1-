<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dear Martin ‚Äì Interactive Learning</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

<style>
/* --- ROOT VARIABLES --- */
:root {
    --primary-red: #c62828;       /* Strong Red */
    --light-red: #ffcdd2;         /* Background Red */
    --primary-blue: #1565c0;      /* For Chatbot */
    --dark-grey: #2c3e50;
    --light-bg: #f4f7f6;
    --white: #ffffff;
    --shadow: 0 4px 12px rgba(0,0,0,0.1);
}

* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: 'Open Sans', sans-serif;
    background-color: var(--light-bg);
    color: var(--dark-grey);
    line-height: 1.6;
    scroll-behavior: smooth;
}

/* --- HEADER --- */
header {
    background: linear-gradient(135deg, #b71c1c, #d32f2f);
    color: var(--white);
    padding: 50px 20px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

header h1 {
    font-family: 'Montserrat', sans-serif;
    font-size: 3rem;
    margin: 0;
    letter-spacing: 1px;
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
    margin-top: 10px;
}

/* --- NAVIGATION --- */
nav {
    background-color: var(--white);
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

nav ul {
    display: flex;
    justify-content: center;
    list-style: none;
    padding: 15px;
    margin: 0;
    flex-wrap: wrap;
}

nav li { margin: 0 15px; }

nav a {
    text-decoration: none;
    color: var(--dark-grey);
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.9rem;
    transition: color 0.3s;
}

nav a:hover { color: var(--primary-red); }

/* --- MAIN CONTENT --- */
main {
    max-width: 900px;
    margin: 40px auto;
    padding: 0 20px;
    padding-bottom: 100px; /* Space for chatbot */
}

.section {
    background-color: var(--white);
    padding: 40px;
    margin-bottom: 30px;
    border-radius: 15px;
    box-shadow: var(--shadow);
    border-top: 5px solid var(--primary-red);
}

h2 {
    font-family: 'Montserrat', sans-serif;
    color: var(--primary-red);
    margin-top: 0;
    font-size: 1.8rem;
}

/* --- CHARACTER GRID --- */
.char-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.char-card {
    background: #fff;
    border: 1px solid #eee;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    transition: transform 0.2s;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.char-card:hover { transform: translateY(-5px); }

.char-card h3 { margin: 10px 0 5px; color: var(--dark-grey); }
.char-card p { font-size: 0.9rem; color: #555; }

/* --- QUIZ STYLING (INTERACTIVE) --- */
.quiz-wrapper {
    text-align: center;
    padding: 10px;
}

.question-box {
    font-size: 1.2rem;
    font-weight: bold;
    margin-bottom: 20px;
}

.options-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    max-width: 400px;
    margin: 0 auto;
}

.quiz-btn {
    background-color: white;
    border: 2px solid var(--primary-red);
    color: var(--primary-red);
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s;
}

.quiz-btn:hover {
    background-color: var(--primary-red);
    color: white;
}

.quiz-btn.disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.feedback {
    margin-top: 15px;
    font-weight: bold;
    min-height: 25px;
}

.next-btn {
    background-color: var(--dark-grey);
    color: white;
    border: none;
    padding: 10px 25px;
    border-radius: 25px;
    margin-top: 20px;
    cursor: pointer;
    font-size: 1rem;
    display: none; /* Hidden initially */
}

.next-btn:hover { background-color: black; }

/* --- CHATBOT STYLING --- */
.chat-widget {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.chat-button {
    background-color: var(--primary-blue);
    color: white;
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s;
}

.chat-button:hover { transform: scale(1.1); }

.chat-window {
    background-color: white;
    width: 320px;
    height: 400px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    margin-bottom: 15px;
    display: none; /* Hidden by default */
    flex-direction: column;
    overflow: hidden;
    border: 1px solid #ddd;
}

.chat-header {
    background-color: var(--primary-blue);
    color: white;
    padding: 15px;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
}

.close-chat { cursor: pointer; }

.chat-messages {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
    background-color: #f9f9f9;
    font-size: 0.9rem;
}

.message {
    margin-bottom: 10px;
    padding: 8px 12px;
    border-radius: 15px;
    max-width: 80%;
    word-wrap: break-word;
}

.bot-msg {
    background-color: #e3f2fd;
    color: #333;
    align-self: flex-start;
    border-bottom-left-radius: 2px;
}

.user-msg {
    background-color: var(--primary-blue);
    color: white;
    margin-left: auto; /* Push to right */
    border-bottom-right-radius: 2px;
    text-align: right;
}

.chat-input-area {
    display: flex;
    border-top: 1px solid #eee;
    padding: 10px;
    background: white;
}

.chat-input-area input {
    flex: 1;
    border: 1px solid #ddd;
    border-radius: 20px;
    padding: 8px 12px;
    outline: none;
}

.chat-input-area button {
    background: var(--primary-blue);
    color: white;
    border: none;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    margin-left: 8px;
    cursor: pointer;
}

/* Footer */
footer {
    background-color: var(--dark-grey);
    color: #bbb;
    text-align: center;
    padding: 30px;
    font-size: 0.9rem;
}
</style>
</head>

<body>

<header>
    <h1>Dear Martin</h1>
    <p>Understanding the Novel by Nic Stone</p>
</header>

<nav>
    <ul>
        <li><a href="#author">Author</a></li>
        <li><a href="#summary">Summary</a></li>
        <li><a href="#characters">Characters</a></li>
        <li><a href="#themes">Themes</a></li>
        <li><a href="#quiz">Quiz</a></li>
    </ul>
</nav>

<main>

    <section class="section" id="author">
        <h2>About the Author</h2>
        <p>
            <strong>Nic Stone</strong> is an American author. She wrote <em>Dear Martin</em> in 2017 to explore real problems in society.
        </p>
        <p>
            She wanted to write a story that asks: "What would Dr. Martin Luther King Jr. say about the world today?"
        </p>
    </section>

    <section class="section" id="summary">
        <h2>Summary</h2>
        <p>
            <strong>Justyce McAllister</strong> is a top student at a private high school. He is Black, and most of his classmates are white. He wants to go to Yale University.
        </p>
        <p>
            One night, he tries to help his ex-girlfriend, but a police officer arrests him aggressively because of his skin color. Justyce is shocked.
        </p>
        <p>
            To understand his feelings, he starts writing a diary. He writes letters to <strong>Dr. Martin Luther King Jr.</strong> ("Dear Martin"). He tries to be like Dr. King, but life gets harder when he faces more racism and violence.
        </p>
    </section>

    <section class="section" id="characters">
        <h2>Main Characters</h2>
        <div class="char-grid">
            <div class="char-card">
                <h3>Justyce</h3>
                <p>The main character. Smart, thoughtful, and trying to find his identity.</p>
            </div>
            <div class="char-card">
                <h3>Manny</h3>
                <p>Justyce's best friend. He is wealthy and fun, but avoids serious talk about race.</p>
            </div>
            <div class="char-card">
                <h3>SJ</h3>
                <p>Justyce's debate partner. She is supportive, smart, and fights for justice.</p>
            </div>
            <div class="char-card">
                <h3>Jared</h3>
                <p>A classmate who often makes insensitive jokes and doesn't understand privilege.</p>
            </div>
        </div>
    </section>

    <section class="section" id="themes">
        <h2>Themes</h2>
        <ul>
            <li><strong>Racism:</strong> How people are judged by their skin color.</li>
            <li><strong>Police Brutality:</strong> Unfair violence by authority figures.</li>
            <li><strong>Identity:</strong> Trying to fit in at school vs. at home.</li>
            <li><strong>Friendship:</strong> Loyalty and understanding between friends.</li>
        </ul>
    </section>

    <section class="section" id="quiz">
        <h2>Knowledge Quiz</h2>
        <div class="quiz-wrapper" id="quiz-container">
            <div class="question-box" id="question-text">Loading...</div>
            <div class="options-container" id="options-area"></div>
            <div class="feedback" id="feedback-text"></div>
            <button class="next-btn" id="next-button" onclick="nextQuestion()">Next Question ‚ûú</button>
        </div>
    </section>

</main>

<footer>
    <p>Learning Page Project ‚Ä¢ Created by Vincent</p>
</footer>

<div class="chat-widget">
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <span>Ask the Bot ü§ñ</span>
            <span class="close-chat" onclick="toggleChat()">‚úñ</span>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-msg">Hello! Ask me about the author, Justyce, or the summary.</div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chatInput" placeholder="Type here..." onkeypress="handleEnter(event)">
            <button onclick="sendMessage()">‚û§</button>
        </div>
    </div>
    <button class="chat-button" onclick="toggleChat()">üí¨</button>
</div>

<script>
    /* --- QUIZ LOGIC --- */
    const quizData = [
        {
            question: "1. Who does Justyce write his letters to?",
            options: ["His father", "Dr. Martin Luther King Jr.", "The President", "His teacher"],
            correct: 1 // Index of correct answer
        },
        {
            question: "2. Which university does Justyce want to attend?",
            options: ["Harvard", "Stanford", "Yale", "Oxford"],
            correct: 2
        },
        {
            question: "3. Who is Justyce's best friend?",
            options: ["Jared", "SJ", "Manny", "Quan"],
            correct: 2
        },
        {
            question: "4. Why is Justyce arrested in the beginning?",
            options: ["He stole a car", "He was helping his ex-girlfriend", "He was fighting", "He was speeding"],
            correct: 1
        }
    ];

    let currentQIndex = 0;
    let score = 0;

    function loadQuestion() {
        const qData = quizData[currentQIndex];
        document.getElementById("question-text").innerText = qData.question;
        document.getElementById("feedback-text").innerText = "";
        document.getElementById("next-button").style.display = "none";
        
        const optionsArea = document.getElementById("options-area");
        optionsArea.innerHTML = ""; // Clear old buttons

        qData.options.forEach((opt, index) => {
            const btn = document.createElement("button");
            btn.className = "quiz-btn";
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(index, btn);
            optionsArea.appendChild(btn);
        });
    }

    function checkAnswer(selectedIndex, btnElement) {
        // Disable all buttons after selection
        const buttons = document.querySelectorAll(".quiz-btn");
        buttons.forEach(b => {
            b.classList.add("disabled");
            b.onclick = null;
        });

        const correctIndex = quizData[currentQIndex].correct;
        const feedback = document.getElementById("feedback-text");

        if (selectedIndex === correctIndex) {
            btnElement.style.backgroundColor = "#d4edda"; // Green
            btnElement.style.color = "#155724";
            btnElement.style.borderColor = "#155724";
            feedback.innerText = "Correct! ‚úîÔ∏è";
            feedback.style.color = "green";
            score++;
        } else {
            btnElement.style.backgroundColor = "#f8d7da"; // Red
            btnElement.style.color = "#721c24";
            feedback.innerText = "Wrong ‚ùå. The correct answer was: " + quizData[currentQIndex].options[correctIndex];
            feedback.style.color = "red";
        }

        // Show Next Button
        document.getElementById("next-button").style.display = "inline-block";
    }

    function nextQuestion() {
        currentQIndex++;
        if (currentQIndex < quizData.length) {
            loadQuestion();
        } else {
            // End of quiz
            document.getElementById("quiz-container").innerHTML = `
                <h3>Quiz Finished! üéâ</h3>
                <p>You scored <strong>${score}</strong> out of <strong>${quizData.length}</strong>.</p>
                <button class="next-btn" style="display:inline-block" onclick="location.reload()">Restart Quiz</button>
            `;
        }
    }

    // Start Quiz on Load
    loadQuestion();


    /* --- CHATBOT LOGIC --- */
    function toggleChat() {
        const win = document.getElementById("chatWindow");
        if (win.style.display === "flex") {
            win.style.display = "none";
        } else {
            win.style.display = "flex";
        }
    }

    function handleEnter(event) {
        if (event.key === "Enter") sendMessage();
    }

    function sendMessage() {
        const inputField = document.getElementById("chatInput");
        const userText = inputField.value.trim();
        if (userText === "") return;

        // Add User Message
        addMessage(userText, "user-msg");
        inputField.value = "";

        // Simulate Bot Response (Simple Logic)
        setTimeout(() => {
            const botResponse = getBotResponse(userText.toLowerCase());
            addMessage(botResponse, "bot-msg");
        }, 600);
    }

    function addMessage(text, className) {
        const msgDiv = document.createElement("div");
        msgDiv.className = "message " + className;
        msgDiv.innerText = text;
        
        const chatContainer = document.getElementById("chatMessages");
        chatContainer.appendChild(msgDiv);
        chatContainer.scrollTop = chatContainer.scrollHeight; // Auto scroll to bottom
    }

    function getBotResponse(input) {
        if (input.includes("author") || input.includes("nic stone")) {
            return "The author is Nic Stone. She writes YA novels about social justice.";
        } else if (input.includes("summary") || input.includes("about")) {
            return "The book is about Justyce, a Black teen who faces racism and writes letters to MLK.";
        } else if (input.includes("justyce")) {
            return "Justyce McAllister is the main character. He is smart and wants to go to Yale.";
        } else if (input.includes("manny")) {
            return "Manny is Justyce's wealthy best friend.";
        } else if (input.includes("sj") || input.includes("sarah")) {
            return "SJ is Justyce's debate partner and romantic interest.";
        } else if (input.includes("hello") || input.includes("hi")) {
            return "Hello! Do you have questions about the book?";
        } else {
            return "I am just a simple bot. Try asking about 'Justyce', 'The Author', or 'Summary'.";
        }
    }
</script>

</body>
</html>
